<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÜ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Kanit', sans-serif;
            background-color: #f9fafb;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 300px;
            max-height: 350px;
            margin-left: auto;
            margin-right: auto;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        
        .nav-button {
            padding-left: 1rem;
            padding-right: 1rem;
            padding-top: 0.75rem;
            padding-bottom: 0.75rem;
            font-size: 0.875rem; 
            line-height: 1.25rem;
            font-weight: 500; 
            color: rgb(31 41 55); 
            background-color: rgb(243 244 246); 
            border-radius: 0.5rem; 
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); 
            border: 1px solid rgb(209 213 219); 
            transition-property: all;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 200ms;
            cursor: pointer;
        }
        
        .nav-button:hover {
            background-color: rgb(229 231 235); 
            color: rgb(30 64 175); 
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); 
            transform: translateY(-0.125rem); 
        }
        
        .nav-button.active {
            background-color: rgb(30 64 175); 
            color: rgb(255 255 255); 
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1); 
            transform: translateY(-0.25rem); 
            border-color: rgb(30 64 175); 
        }
        
        .nav-button.active:hover {
            background-color: rgb(29 78 216); 
            transform: translateY(-0.25rem); 
        }

        .ops-toggle {
            @apply px-5 py-2 text-base font-semibold text-gray-700 bg-gray-100 border border-gray-300 rounded-lg shadow-md transition-all duration-200 transform;
        }
        .ops-toggle:hover {
             @apply bg-gray-200 text-blue-800 shadow-lg -translate-y-px;
        }
        .ops-toggle.active {
            @apply bg-blue-700 text-white border-blue-700 hover:bg-blue-800 shadow-lg -translate-y-px;
        }
        .status-icon {
            @apply w-5 h-5 inline-block mr-2 flex-shrink-0;
        }
        .card {
            @apply bg-white p-6 rounded-xl shadow-lg border border-gray-200;
        }
        .gemini-button {
            @apply inline-block bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold px-5 py-2 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-300 transform hover:-translate-y-0.5;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .toggle-report-button {
            @apply w-full text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 text-blue-800 hover:text-blue-900 font-semibold rounded-lg shadow-sm hover:shadow-md flex justify-between items-center transition-all duration-200 mt-4 transform hover:-translate-y-px;
        }
        .report-content {
            @apply transition-all duration-500 ease-in-out overflow-hidden;
        }
        .modal {
            display: none;
        }
        .modal.active {
            display: flex;
        }
        .loader {
            border-top-color: #3498db;
            -webkit-animation: spin 1s linear infinite;
            animation: spin 1s linear infinite;
        }
        @-webkit-keyframes spin {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Chosen Palette: Warm Neutral & Teal -->
    <!-- Application Structure Plan: ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á SPA ‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÅ‡∏ó‡πá‡∏ö (Tabbed Navigation) ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô 3 ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏•‡∏±‡∏Å: 1) ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å (‡∏™‡∏£‡∏∏‡∏õ), 2) ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ TMR, 3) ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô (SM & SA) ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏°‡∏µ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ 2 ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô (‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡∏¢‡∏∏‡∏ó‡∏ò‡∏ß‡∏¥‡∏ò‡∏µ) ‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£) ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡πÄ‡∏ä‡πà‡∏ô "‡∏á‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?") ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏™‡∏£‡∏∏‡∏õ‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß -->
    <!-- Visualization & Content Choices: 
        1. TMR CAPEX -> Goal: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ (Min/Max) -> Viz: Stacked Bar Chart (‡πÅ‡∏ó‡πà‡∏á "Min" ‡πÅ‡∏•‡∏∞ "Max") -> Interaction: Hover/Tooltip -> Justo: ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÉ‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô -> Lib: Chart.js
        2. TMR OPEX -> Goal: ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ -> Viz: Donut Chart (‡∏Ñ‡πà‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô vs. ‡∏Ñ‡πà‡∏≤‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤) -> Interaction: Hover/Tooltip -> Justo: ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô -> Lib: Chart.js
        3. Load Analysis -> Goal: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ -> Viz: Horizontal Bar Chart (Total Load vs. Safe Limit) -> Interaction: Hover/Tooltip -> Justo: ‡πÅ‡∏™‡∏î‡∏á "Headroom" ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô -> Lib: Chart.js
        4. Operations Status (SM/SA) -> Goal: ‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ã‡∏ï‡πå -> Viz: HTML Lists + Toggles (‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏•‡∏±‡∏ö) -> Interaction: Click toggle (SM/SA) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• -> Justo: ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 2 ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà -> Lib: Vanilla JS
        5. Gemini Modal -> Goal: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ -> Viz: Modal Window -> Interaction: Click button, select action, call API -> Justo: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (‡∏≠‡∏µ‡πÄ‡∏°‡∏•, checklist) ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <header class="sticky top-0 z-50 bg-white shadow-md border-b border-gray-200">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex flex-wrap justify-center md:justify-between items-center gap-2">
            <div class="flex items-center">
                <span class="text-2xl font-bold text-blue-800">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</span>
            </div>
            <div class="flex flex-wrap justify-center space-x-2">
                <button class="nav-button active" data-target="home-view">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å (‡∏™‡∏£‡∏∏‡∏õ)</button>
                <button class="nav-button" data-target="tmr-view">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ TMR</button>
                <button class="nav-button" data-target="ops-view">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</button>
            </div>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto p-4 md:p-8">

        <!-- ===== 1. Home / Executive Summary View ===== -->
        <section id="home-view" class="content-section active space-y-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</h1>
                <p class="text-xl text-gray-700">‡∏ì ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 8 ‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2025</p>
            </div>

            <div class="card mb-8">
                <h2 class="text-2xl font-semibold mb-4 text-blue-800">‡∏ö‡∏ó‡∏™‡∏£‡∏∏‡∏õ (Executive Summary)</h2>
                <p class="text-gray-700 mb-6">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ 2 ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏•‡∏±‡∏Å ‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà (TMR ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤) ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏£‡∏≠‡∏ö (SM & SA Farm) ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- TMR CAPEX Card -->
                    <div class="bg-blue-50 p-5 rounded-lg border border-blue-200">
                        <h3 class="font-semibold text-gray-500 text-sm uppercase">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ TMR (CAPEX)</h3>
                        <p class="text-3xl font-bold text-gray-900">161,500 - 281,000</p>
                        <p class="text-sm text-gray-600">‡∏ö‡∏≤‡∏ó (‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á)</p>
                    </div>
                    <!-- TMR OPEX Card -->
                    <div class="bg-blue-50 p-5 rounded-lg border border-blue-200">
                        <h3 class="font-semibold text-gray-500 text-sm uppercase">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ TMR (OPEX)</h>
                        <p class="text-3xl font-bold text-gray-900">~133,100</p>
                        <p class="text-sm text-gray-600">‡∏ö‡∏≤‡∏ó/‡∏õ‡∏µ (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô 3 ‡∏ä‡∏°./‡∏ß‡∏±‡∏ô)</p>
                    </div>
                    <!-- SM Status Card -->
                    <div class="bg-red-50 p-5 rounded-lg border border-red-200">
                        <h3 class="font-semibold text-gray-500 text-sm uppercase">SM (‡∏ã‡∏±‡∏Ñ‡πÄ‡∏ã‡∏™‡∏°‡∏¥‡∏•‡∏•‡πå)</h3>
                        <p class="text-3xl font-bold text-red-800">3 ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà/‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞</p>
                        <p class="text-sm text-gray-600">Load Cell (‡∏î‡πà‡∏ß‡∏ô), ‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î, ‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå</p>
                    </div>
                    <!-- SA Status Card -->
                    <div class="bg-yellow-50 p-5 rounded-lg border border-yellow-300">
                        <h3 class="font-semibold text-gray-500 text-sm uppercase">SA Farm</h3>
                        <p class="text-3xl font-bold text-yellow-800">2 ‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á/‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°</p>
                        <p class="text-sm text-gray-600">‡∏ã‡∏µ‡∏•‡∏ñ‡∏±‡∏á 3000L ‡∏£‡∏±‡πà‡∏ß, ‡∏ß‡∏≤‡∏•‡πå‡∏ß‡∏™‡πÄ‡∏õ‡∏£‡∏¢‡πå</p>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="text-xl font-semibold mb-3 text-blue-800">‡∏™‡∏£‡∏∏‡∏õ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ TMR ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</h3>
                    <p class="text-gray-600 mb-4">‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ú‡∏™‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£ TMR (SEKO Samurai 5) ‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö PTO ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ 30kW ‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏° ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (‡∏ï‡∏π‡πâ SMDB) ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ</p>
                    <button data-target="tmr-view" class="nav-button font-semibold text-blue-700 hover:text-blue-900 transition-colors">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ ‚Üí</button>
                </div>
                <div class="card">
                    <h3 class="text-xl font-semibold mb-3 text-blue-800">‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô (SM & SA)</h3>
                    <p class="text-gray-600 mb-4">‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 5-6 ‡∏û.‡∏¢. 2025 ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏•‡∏≤‡∏¢‡∏à‡∏∏‡∏î ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà SM (Load Cell) ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà SA Farm (‡∏ã‡∏µ‡∏•‡∏ñ‡∏±‡∏á‡∏£‡∏±‡πà‡∏ß) ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏Å‡∏•‡πâ‡∏ä‡∏¥‡∏î</p>
                    <button data-target="ops-view" class="nav-button font-semibold text-blue-700 hover:text-blue-900 transition-colors">‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô ‚Üí</button>
                </div>
            </div>
        </section>

        <!-- ===== 2. TMR Project Analysis View ===== -->
        <section id="tmr-view" class="content-section space-y-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-6">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå: ‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏∞‡∏ö‡∏ö TMR ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</h1>

            <!-- Project Overview -->
            <div class="card mb-8">
                <div class="flex flex-col md:flex-row justify-between md:items-center gap-4 mb-4">
                    <div>
                        <h2 class="text-2xl font-semibold text-blue-800">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡πÄ‡∏û‡∏≤‡∏∞</h2>
                        <p class="text-gray-700 mt-2">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á TMR (SEKO Samurai 5) ‡∏à‡∏≤‡∏Å PTO ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ 30kW (‡∏£‡∏∞‡∏ö‡∏ö "‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå + ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡∏ó‡∏î + VFD")</p>
                    </div>
                    <button class="gemini-button" data-option-key="tmr">
                        ‚ú® ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                    <div>
                        <h3 class="font-semibold text-lg text-gray-800 mb-2">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á TMR</h3>
                        <ul class="list-disc list-inside text-gray-600 space-y-1">
                            <li><strong>Model:</strong> Samurai 5, Model 400/50</li>
                            <li><strong>Capacity:</strong> 5m¬≥</li>
                            <li><strong>Power (P.T.O.):</strong> 30 HP (‚âà22.4 kW)</li>
                            <li><strong>Speed (P.T.O.):</strong> 540 RPM</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold text-lg text-gray-800 mb-2">‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</h3>
                        <ul class="list-disc list-inside text-gray-600 space-y-1">
                            <li><strong>Motor:</strong> 30 kW (40 HP), 4-Pole (~1450 RPM)</li>
                            <li><strong>Gear Reducer:</strong> ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏ó‡∏î ~2.7:1 (‡πÑ‡∏î‡πâ 540 RPM)</li>
                            <li><strong>Control:</strong> VFD 30 kW (Heavy Duty)</li>
                        </ul>
                    </div>
                     <div>
                        <h3 class="font-semibold text-lg text-gray-800 mb-2">‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏´‡∏•‡∏î</h3>
                        <p class="text-gray-600">‡∏ï‡∏π‡πâ SMDB ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡πÄ‡∏ö‡∏≠‡∏£‡πå 70 ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô **‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ**</p>
                        <ul class="list-disc list-inside text-gray-600 space-y-1">
                            <li><strong>‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏ß‡∏°‡πÉ‡∏´‡∏°‡πà:</strong> 110 A</li>
                            <li><strong>‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (80%):</strong> 128 A</li>
                        </ul>
                    </div>
                </div>

                <button class="toggle-report-button" data-target="report-tmr-details">
                    <span class="text">‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏°</span> <span class="icon transform transition-transform duration-300">&#9660;</span>
                </button>
                <div id="report-tmr-details" class="report-content hidden mt-4 space-y-6">
                    <div class="bg-gray-50 p-4 rounded-lg border space-y-4">
                        <h4 class="text-lg font-semibold mb-3 border-b pb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h4>
                        
                        <div>
                            <h5 class="text-md font-semibold text-gray-800">2.1 ‡∏ö‡∏ó‡∏ô‡∏≥</h5>
                            <p class="text-gray-700">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏â‡∏ö‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ú‡∏™‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£ TMR (Total Mixed Ration) ‡∏£‡∏∏‡πà‡∏ô SEKO Samurai 5 ‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏•‡∏≤ P.T.O. (Power Take-Off) ‡∏Ç‡∏≠‡∏á‡∏£‡∏ñ‡πÅ‡∏ó‡∏£‡∏Å‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÅ‡∏ö‡∏ö‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà (Stationary) ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö "‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå + ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡∏ó‡∏î + VFD"</p>
                        </div>

                        <div>
                            <h5 class="text-md font-semibold text-gray-800">2.2 ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ú‡∏™‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£ SEKO SAMURAI 5</h5>
                            <p class="text-gray-700">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡πÄ‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á TMR ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö ‡∏°‡∏µ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:</p>
                            <ul class="list-disc list-inside text-gray-700 space-y-1 mt-2">
                                <li><strong>Model:</strong> Samurai 5, Model 400/50</li>
                                <li><strong>Mixing Capacity:</strong> 5m¬≥</li>
                                <li><strong>Power Requirement (P.T.O.):</strong> 30 HP (‚âà22.4 kW)</li>
                                <li><strong>Power Take off (P.T.O) Speed:</strong> 540 RPM</li>
                                <li><strong>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∏‡πà‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï):</strong> 29 kW, 540 R.P.M.</li>
                                <li><strong>‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:</strong> ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏à‡∏∞‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ç‡∏ô‡∏≤‡∏î‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà 30 kW (40 HP) ‡∏ã‡∏∂‡πà‡∏á‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ö‡∏™‡πÄ‡∏õ‡∏Ñ 29 kW ‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏Å‡∏≥‡∏´‡∏ô‡∏î</li>
                            </ul>
                        </div>

                        <div>
                            <h5 class="text-md font-semibold text-gray-800">2.3 ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Å‡∏≥‡∏•‡∏±‡∏á (Solution Design)</h5>
                            <p class="text-gray-700">‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 540 RPM ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏Ç‡∏≠‡∏á‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡πÑ‡∏î‡πâ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢:</p>
                            <ul class="list-disc list-inside text-gray-700 space-y-1 mt-2">
                                <li><strong>‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå (Motor):</strong> ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ 3 ‡πÄ‡∏ü‡∏™ 380V ‡∏Ç‡∏ô‡∏≤‡∏î 30 kW (40 HP) ‡∏ä‡∏ô‡∏¥‡∏î 4-Pole (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏£‡∏≠‡∏ö ~1450 RPM)</li>
                                <li><strong>‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡∏ó‡∏î (Gear Reducer):</strong> ‡πÉ‡∏ä‡πâ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡∏ó‡∏î‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏° ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏£‡∏≠‡∏ö‡∏à‡∏≤‡∏Å 1450 RPM ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 540 RPM (‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏ó‡∏î‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 2.7:1)</li>
                                <li><strong>‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° (VFD - Inverter):</strong> ‡πÉ‡∏ä‡πâ‡∏≠‡∏¥‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå (Variable Frequency Drive) ‡∏Ç‡∏ô‡∏≤‡∏î 30 kW (Heavy Duty) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà Soft Start ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏Ç‡∏ì‡∏∞‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó</li>
                            </ul>
                        </div>
                    </div>

                    <div class="bg-gray-50 p-4 rounded-lg border">
                        <h4 class="text-lg font-semibold mb-3">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (Load Analysis)</h4>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 border">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏Å‡∏£‡∏∞‡πÅ‡∏™ (Amps)</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr><td class="px-6 py-4">‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå (Rated)</td><td class="px-6 py-4">160 A</td><td class="px-6 py-4">Schneider CVS160B</td></tr>
                                    <tr class="bg-blue-50"><td class="px-6 py-4 font-medium">‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á (80%)</td><td class="px-6 py-4 font-medium">128 A</td><td class="px-6 py-4 font-medium">(‡πÄ‡∏û‡∏î‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)</td></tr>
                                    <tr><td class="px-6 py-4">‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏° (Base Load)</td><td class="px-6 py-4">50 A</td><td class="px-6 py-4">(‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö)</td></tr>
                                    <tr><td class="px-6 py-4">‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡∏°‡πà (New TMR Motor 30kW)</td><td class="px-6 py-4">60 A</td><td class="px-6 py-4">(Full Load Current ‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì)</td></tr>
                                    <tr class="bg-green-50"><td class="px-6 py-4 font-medium">‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏ß‡∏°‡πÉ‡∏´‡∏°‡πà (Total Load)</td><td class="px-6 py-4 font-medium">110 A</td><td class="px-6 py-4 font-medium">(50A + 60A)</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg border">
                        <h4 class="text-lg font-semibold mb-3">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (CAPEX)</h4>
                        <div class="overflow-x-auto">
                           <table class="min-w-full divide-y divide-gray-200 border">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì (‡∏ö‡∏≤‡∏ó)</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr><td rowspan="2" class="px-6 py-4 align-top">A. ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏´‡∏•‡∏±‡∏Å (Mechanical)</td><td class="px-6 py-4">1. ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (30 kW)</td><td class="px-6 py-4">40,000 - 70,000</td></tr>
                                    <tr><td class="px-6 py-4">2. ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡∏ó‡∏î‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°</td><td class="px-6 py-4">40,000 - 80,000</td></tr>
                                    <tr><td rowspan="2" class="px-6 py-4 align-top">B. ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° (Control)</td><td class="px-6 py-4">3. VFD (Inverter) (30 kW)</td><td class="px-6 py-4">35,000 - 60,000</td></tr>
                                    <tr><td class="px-6 py-4">4. ‡∏ï‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° (‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏¢‡πà‡∏≠‡∏¢, ‡∏Ø‡∏•‡∏Ø)</td><td class="px-6 py-4">13,500 - 22,000</td></tr>
                                    <tr><td rowspan="2" class="px-6 py-4 align-top">C. ‡∏á‡∏≤‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (Installation)</td><td class="px-6 py-4">5. ‡∏Ñ‡πà‡∏≤‡∏™‡∏≤‡∏¢‡πÑ‡∏ü (CV 4x25+G) ‡πÅ‡∏•‡∏∞‡∏ó‡πà‡∏≠ (35 ‡∏°.)</td><td class="px-6 py-4">23,000 - 29,000</td></tr>
                                    <tr><td class="px-6 py-4">6. ‡∏Ñ‡πà‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏• (‡πÅ‡∏ó‡πà‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á, ‡∏Ø‡∏•‡∏Ø)</td><td class="px-6 py-4">10,000 - 20,000</td></tr>
                                    <tr class="bg-green-50"><td colspan="2" class="px-6 py-4 text-right font-bold">‡∏£‡∏ß‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (A+B+C)</td><td class="px-6 py-4 font-bold">161,500 - 281,000</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg border space-y-4">
                        <h4 class="text-lg font-semibold mb-3 border-b pb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ö‡∏ó‡∏™‡∏£‡∏∏‡∏õ</h4>
                        <div>
                            <h5 class="text-md font-semibold text-gray-800">2.6 ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ (Operating Cost)</h5>
                            <p class="text-gray-700">‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (‡πÉ‡∏´‡∏°‡πà) ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö P.T.O. (‡πÄ‡∏î‡∏¥‡∏°) ‡πÇ‡∏î‡∏¢‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô 3 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á/‡∏ß‡∏±‡∏ô:</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                                <!-- Diesel Cost (Current) -->
                                <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                                    <h6 class="font-semibold text-gray-800">A. ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô P.T.O. (Diesel - ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)</h6>
                                    <ul class="list-disc list-inside text-gray-700 space-y-1 mt-2">
                                        <li><strong>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô:</strong> 30.94 ‡∏ö‡∏≤‡∏ó/‡∏•‡∏¥‡∏ï‡∏£</li>
                                        <li><strong>‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏á (‡∏°‡∏µ‡πÇ‡∏´‡∏•‡∏î):</strong> 15 ‡∏•‡∏¥‡∏ï‡∏£/‡∏ä‡∏°.</li>
                                        <li><strong>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢/‡∏ß‡∏±‡∏ô (3 ‡∏ä‡∏°.):</strong> 1,392.30 ‡∏ö‡∏≤‡∏ó</li>
                                        <li><strong class="text-red-700">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢/‡∏õ‡∏µ: ~508,190 ‡∏ö‡∏≤‡∏ó</strong></li>
                                    </ul>
                                </div>
                                <!-- Electric Cost (New) -->
                                <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                                    <h6 class="font-semibold text-gray-800">B. ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà)</h6>
                                    <ul class="list-disc list-inside text-gray-700 space-y-1 mt-2">
                                        <li><strong>‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü:</strong> 5.00 ‡∏ö‡∏≤‡∏ó/kWh</li>
                                        <li><strong>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ (‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ 80%):</strong> 24 kW</li>
                                        <li><strong>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢/‡∏ß‡∏±‡∏ô (3 ‡∏ä‡∏°.):</strong> 360.00 ‡∏ö‡∏≤‡∏ó</li>
                                        <li><strong class="text-green-700">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢/‡∏õ‡∏µ: ~129,600 ‡∏ö‡∏≤‡∏ó</strong></li>
                                    </ul>
                                </div>
                            </div>

                             <p class="text-gray-700 mt-4"><strong>6.2. ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ (Maintenance Cost)</strong></p>
                             <ul class="list-disc list-inside text-gray-700 space-y-1 mt-1">
                                <li><strong>‡∏£‡∏∞‡∏ö‡∏ö P.T.O.:</strong> ‡∏™‡∏π‡∏á (‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏ô‡∏ï‡πå, ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á, P.T.O. shaft)</li>
                                <li><strong>‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤:</strong> ‡∏ï‡πà‡∏≥‡∏°‡∏≤‡∏Å (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 2,000 - 5,000 ‡∏ö‡∏≤‡∏ó / ‡∏õ‡∏µ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå/‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå)</li>
                            </ul>
                        </div>
                        <div>
                            <h5 class="text-md font-semibold text-gray-800">2.7 ‡∏™‡∏£‡∏∏‡∏õ (‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ TMR)</h5>
                            <p class="text-gray-700">‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏∞‡∏ö‡∏ö TMR Samurai 5 ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ 30kW ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏° ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ</p>
                            <ul class="list-disc list-inside text-gray-700 space-y-1 mt-2">
                                <li><strong>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (CAPEX):</strong> <strong>161,500 - 281,000 ‡∏ö‡∏≤‡∏ó</strong></li>
                                <li><strong>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ (OPEX) - ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤:</strong> <strong>~131,600 - 134,600 ‡∏ö‡∏≤‡∏ó/‡∏õ‡∏µ</strong></li>
                                <li><strong>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ (OPEX) - Diesel:</strong> <strong>~508,190 ‡∏ö‡∏≤‡∏ó/‡∏õ‡∏µ</strong></li>
                            </ul>
                            <p class="text-gray-700 mt-2 font-semibold text-green-700">‡∏Ç‡πâ‡∏≠‡∏™‡∏£‡∏∏‡∏õ: ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì <strong>373,000 - 376,000 ‡∏ö‡∏≤‡∏ó‡∏ï‡πà‡∏≠‡∏õ‡∏µ</strong> ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏∑‡∏ô‡∏ó‡∏∏‡∏ô (Payback Period) <strong>‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 1 ‡∏õ‡∏µ</strong></p>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <!-- ===== 3. Operations Report View ===== -->
        <section id="ops-view" class="content-section space-y-8">
            <div class="flex flex-col md:flex-row justify-between md:items-center gap-4 mb-4">
                <div>
                    <h1 class="text-3xl font-bold text-gray-900">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô (5-6 ‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2025)</h1>
                    <p class="text-lg text-gray-700 mt-2">‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤, ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà, ‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ã‡∏ï‡πå‡∏á‡∏≤‡∏ô</p>
                </div>
                <button class="gemini-button" data-option-key="ops">
                    ‚ú® ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ
                </button>
            </div>

            <!-- Ops Toggles -->
            <div class="flex justify-center space-x-4 mb-8">
                <button id="btn-sm" class="ops-toggle active">SM (‡∏ã‡∏±‡∏Ñ‡πÄ‡∏ã‡∏™‡∏°‡∏¥‡∏•‡∏•‡πå)</button>
                <button id="btn-sa" class="ops-toggle">SA Farm (‡πÄ‡∏≠‡∏™.‡πÄ‡∏≠. ‡πÅ‡∏î‡∏£‡∏µ‡πà‡∏ü‡∏≤‡∏£‡πå‡∏°)</button>
            </div>

            <!-- SM Content -->
            <div id="sm-content">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- SM Fixed -->
                    <div class="card border-l-4 border-green-500">
                        <h2 class="text-xl font-semibold mb-4 text-green-800">1. ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß (SM)</h2>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <span class="status-icon text-green-600">‚úÖ</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏ã‡∏•‡∏•‡πå (Load Cell)</h4>
                                    <p class="text-gray-600">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡πâ‡∏≤ (Calibrate ‡πÉ‡∏´‡∏°‡πà, ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì) ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡∏î‡πà‡∏ß‡∏ô</p>
                                    <p class="font-medium text-red-700 mt-1">**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞ (‡∏î‡πà‡∏ß‡∏ô):** ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ç‡∏≤‡πÉ‡∏´‡∏°‡πà 3 ‡∏Ç‡∏≤ (‡∏û‡∏ö‡∏™‡∏ô‡∏¥‡∏°/‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°‡∏™‡∏†‡∏≤‡∏û) ‡πÅ‡∏•‡∏∞‡∏¢‡πâ‡∏≤‡∏¢‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="status-icon text-green-600">‚úÖ</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">Sensor ‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥‡∏ô‡∏°</h4>
                                    <p class="text-gray-600">‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏î‡∏Å‡∏£‡∏µ‡∏à‡∏∏‡∏î‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏î‡∏¥‡∏°‡∏ä‡∏∑‡πâ‡∏ô/‡∏™‡∏ô‡∏¥‡∏°)</p>
                                    <p class="font-medium text-yellow-700 mt-1">**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞:** ‡∏Ñ‡∏ß‡∏£‡∏ã‡∏µ‡∏•‡∏Å‡∏±‡∏ô‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡∏û‡πà‡∏ô‡∏ß‡∏≤‡∏ô‡∏¥‡∏ä‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <!-- SM New/Pending -->
                    <div class="card border-l-4 border-red-500">
                        <h2 class="text-xl font-semibold mb-4 text-red-800">2. ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÅ‡∏à‡πâ‡∏á / ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà (SM)</h2>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <span class="status-icon text-red-600">‚ö†Ô∏è</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î‡∏ö‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h4>
                                    <p class="text-gray-600">‡∏ï‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï 2 ‡∏à‡∏∏‡∏î (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏Ñ‡∏ß‡∏ö‡πÅ‡∏ô‡πà‡∏ô/‡∏¢‡∏≤‡πÅ‡∏ô‡∏ß‡∏´‡∏•‡∏∏‡∏î ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ó‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏¢‡∏≤‡πÅ‡∏≠‡∏£‡πå) **‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°**</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="status-icon text-red-600">‚ö†Ô∏è</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏°‡∏ô‡∏≠‡∏Å‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£</h4>
                                    <p class="text-gray-600">‡∏ä‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ô‡∏¥‡∏°‡∏Ç‡∏∂‡πâ‡∏ô **‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡∏Å‡∏±‡∏ô‡∏ô‡πâ‡∏≥**</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="status-icon text-yellow-600">‚è≥</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü‡πÑ‡∏•‡πà‡πÅ‡∏°‡∏•‡∏á (‡∏ô‡∏≠‡∏Å‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£)</h4>
                                    <p class="text-gray-600">**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà**</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- SA Content -->
            <div id="sa-content" class="hidden">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- SA Fixed -->
                    <div class="card border-l-4 border-green-500">
                        <h2 class="text-xl font-semibold mb-4 text-green-800">1. ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß (SA)</h2>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <span class="status-icon text-green-600">‚úÖ</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏õ‡∏±‡πä‡∏°‡∏î‡∏π‡∏î‡∏ô‡πâ‡∏≥‡∏ô‡∏°</h4>
                                    <p class="text-gray-600">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Push Button Switch (‡πÅ‡∏ö‡∏ö‡∏Å‡∏î‡πÄ‡∏õ‡∏¥‡∏î-‡∏Å‡∏î‡∏õ‡∏¥‡∏î) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏≠‡∏≤‡∏£‡πå‡∏Ñ)</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="status-icon text-green-600">‚úÖ</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">‡∏ê‡∏≤‡∏ô‡∏ñ‡∏±‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏ô‡πâ‡∏≥‡∏ô‡∏°‡∏î‡∏¥‡∏ö 3000L</h4>
                                    <p class="text-gray-600">‡∏õ‡∏£‡∏±‡∏ö‡∏™‡πÇ‡∏•‡∏õ‡πÉ‡∏´‡∏°‡πà, ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÄ‡∏™‡∏£‡∏¥‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á 2 ‡∏Ç‡∏≤‡∏´‡∏•‡∏±‡∏á ‡πÅ‡∏•‡∏∞‡∏û‡∏≠‡∏Å‡∏õ‡∏π‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="status-icon text-blue-600">üîÑ</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">‡πÄ‡∏î‡∏¥‡∏ô‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á‡πÇ‡∏ã‡∏ô‡πÇ‡∏£‡∏á‡∏£‡∏µ‡∏î</h4>
                                    <p class="text-gray-600">‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏Ñ‡∏°‡πÑ‡∏ü‡πÄ‡∏û‡∏¥‡πà‡∏° 5 ‡∏à‡∏∏‡∏î, ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡πà‡∏≠‡∏£‡πâ‡∏≠‡∏¢‡∏™‡∏≤‡∏¢‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß 3 ‡∏à‡∏∏‡∏î **‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡πà‡∏≠: ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡πà‡∏≠‡∏≠‡∏µ‡∏Å‡πÇ‡∏ã‡∏ô (‡∏ö‡∏ô‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£)**</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="status-icon text-blue-600">üîÑ</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">‡∏ó‡πà‡∏≠ 3 ‡∏ó‡∏≤‡∏á (‡∏ñ‡∏±‡∏á 3000L)</h4>
                                    <p class="text-gray-600">‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ó‡πà‡∏≠ 3 ‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà... <span class="font-bold text-red-700">‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏±‡πà‡∏ß‡∏ó‡∏µ‡πà‡∏ã‡∏µ‡∏•‡∏¢‡∏≤‡∏á‡∏¢‡∏π‡πÄ‡∏ô‡∏µ‡πà‡∏¢‡∏ô 2 ‡∏ô‡∏¥‡πâ‡∏ß ‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡πä‡∏° CIP</span></p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <!-- SA Pending -->
                    <div class="card border-l-4 border-yellow-500">
                        <h2 class="text-xl font-semibold mb-4 text-yellow-800">2. ‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á / ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° (SA)</h2>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <span class="status-icon text-yellow-600">‚è≥</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">‡∏ã‡∏µ‡∏•‡∏ó‡πà‡∏≠ 3 ‡∏ó‡∏≤‡∏á (‡∏ñ‡∏±‡∏á 3000L)</h4>
                                    <p class="text-gray-600">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏£‡∏±‡πà‡∏ß ‡∏ä‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ã‡∏µ‡∏•‡∏°‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô **‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏ä‡πà‡∏≤‡∏á‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á**</TMR>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="status-icon text-yellow-600">‚è≥</span>
                                <div>
                                    <h4 class="font-semibold text-gray-800">‡πÇ‡∏ã‡∏•‡∏¥‡∏ô‡∏≠‡∏¢‡∏ß‡∏≤‡∏•‡πå‡∏ß (‡∏™‡πÄ‡∏õ‡∏£‡∏¢‡πå‡∏ß‡∏±‡∏ß)</h4>
                                    <p class="text-gray-600">‡∏ß‡∏≤‡∏•‡πå‡∏ß‡∏Ñ‡πâ‡∏≤‡∏á (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏õ‡∏¥‡∏î‡∏ß‡∏≤‡∏•‡πå‡∏ß ‡∏á‡∏î‡πÉ‡∏ä‡πâ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß) **‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô: ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á (‡∏™‡πÄ‡∏õ‡∏£‡∏¢‡πå) ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏Å‡πá‡∏ö‡∏á‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏≤‡∏á**</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Gemini Modal -->
    <div id="geminiModal" class="modal fixed inset-0 bg-gray-900 bg-opacity-75 items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col">
            <header class="flex justify-between items-center p-4 border-b">
                <h3 id="geminiModalTitle" class="text-xl font-semibold text-blue-800">‚ú® ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ</h3>
                <button id="closeModalButton" class="text-gray-400 hover:text-gray-600 text-3xl">&times;</button>
            </header>
            
            <div class="p-6 space-y-4">
                <p class="text-sm text-gray-600">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö <span id="geminiModalOptionName" class="font-bold"></span>:</p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <button id="generateEmailButton" class="flex-1 bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-800 transition-colors">
                        ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£
                    </button>
                    <button id="generateChecklistButton" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                        ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô (Checklist)
                    </button>
                </div>
            </div>

            <div class="p-6 flex-1 overflow-y-auto space-y-4">
                <div id="geminiLoading" class="text-center py-8 hidden">
                    <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-24 w-24 mx-auto"></div>
                    <p class="mt-4 text-gray-600">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•... ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</p>
                </div>

                <div id="geminiResultArea" class="hidden">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="text-lg font-semibold text-gray-800">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:</h4>
                        <button id="copyResultButton" class="text-sm bg-gray-200 text-gray-700 px-3 py-1 rounded-md hover:bg-gray-300">
                            ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
                        </button>
                    </div>
                    <textarea id="geminiResultText" readonly class="w-full h-64 p-3 bg-gray-50 border rounded-md resize-none font-mono text-sm"></textarea>
                </div>

                <div id="geminiError" class="hidden p-4 bg-red-50 text-red-700 border border-red-200 rounded-md">
                    <p><strong>‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:</strong> ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ API ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</p>
                </div>
            </div>

            <footer class="p-4 bg-gray-50 border-t rounded-b-xl text-right">
                <button id="closeModalButtonFooter" class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors">
                    ‡∏õ‡∏¥‡∏î
                </button>
            </footer>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navButtons = document.querySelectorAll('.nav-button');
            const contentSections = document.querySelectorAll('.content-section');
            const opsToggles = {
                sm: document.getElementById('btn-sm'),
                sa: document.getElementById('btn-sa'),
            };
            const opsContent = {
                sm: document.getElementById('sm-content'),
                sa: document.getElementById('sa-content'),
            };

            const geminiModal = document.getElementById('geminiModal');
            const geminiModalTitle = document.getElementById('geminiModalTitle');
            const geminiModalOptionName = document.getElementById('geminiModalOptionName');
            const closeModalButton = document.getElementById('closeModalButton');
            const closeModalButtonFooter = document.getElementById('closeModalButtonFooter');
            const generateEmailButton = document.getElementById('generateEmailButton');
            const generateChecklistButton = document.getElementById('generateChecklistButton');
            const geminiLoading = document.getElementById('geminiLoading');
            const geminiResultArea = document.getElementById('geminiResultArea');
            const geminiResultText = document.getElementById('geminiResultText');
            const geminiError = document.getElementById('geminiError');
            const copyResultButton = document.getElementById('copyResultButton');
            const geminiButtons = document.querySelectorAll('.gemini-button');

            let currentOptionKey = null;

            const OPTION_DATA = {
                tmr: {
                    name: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ TMR ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤",
                    summary: `‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á TMR (SEKO Samurai 5) ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ 30kW ‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á`,
                    capex: "161,500 - 281,000 ‡∏ö‡∏≤‡∏ó",
                    opex: "~133,100 ‡∏ö‡∏≤‡∏ó/‡∏õ‡∏µ (‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á 3 ‡∏ä‡∏°./‡∏ß‡∏±‡∏ô)",
                    findings: "‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏° (‡∏ï‡∏π‡πâ SMDB 160A) ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡∏°‡πà 60A ‡πÑ‡∏î‡πâ (‡∏£‡∏ß‡∏°‡πÄ‡∏õ‡πá‡∏ô 110A ‡∏à‡∏≤‡∏Å 128A ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)"
                },
                ops: {
                    name: "‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô (SM & SA)",
                    summary: `‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 5-6 ‡∏û.‡∏¢. 2025`,
                    sm_issues: `SM (‡∏ã‡∏±‡∏Ñ‡πÄ‡∏ã‡∏™‡∏°‡∏¥‡∏•‡∏•‡πå):
- ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡∏î‡πà‡∏ß‡∏ô: Load Cell ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô 3 ‡∏Ç‡∏≤ (‡∏û‡∏ö‡∏™‡∏ô‡∏¥‡∏°/‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°‡∏™‡∏†‡∏≤‡∏û)
- ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà: ‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö)
- ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà: ‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡∏ô‡∏≠‡∏Å‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ä‡∏∑‡πâ‡∏ô (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô)`,
                    sa_issues: `SA Farm:
- ‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á (‡∏î‡πà‡∏ß‡∏ô): ‡∏ñ‡∏±‡∏á 3000L ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ó‡πà‡∏≠ 3 ‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà "‡∏û‡∏ö‡∏à‡∏∏‡∏î‡∏£‡∏±‡πà‡∏ß" ‡∏ó‡∏µ‡πà‡∏ã‡∏µ‡∏•‡∏¢‡∏π‡πÄ‡∏ô‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡πä‡∏° CIP (‡∏£‡∏≠‡∏ã‡∏µ‡∏•‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏≤‡∏á)
- ‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á: ‡πÇ‡∏ã‡∏•‡∏¥‡∏ô‡∏≠‡∏¢‡∏ß‡∏≤‡∏•‡πå‡∏ß‡∏™‡πÄ‡∏õ‡∏£‡∏¢‡πå‡∏ß‡∏±‡∏ß‡∏Ñ‡πâ‡∏≤‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏±‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà)
- ‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á: ‡∏¢‡∏±‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡πà‡∏≠‡∏£‡πâ‡∏≠‡∏¢‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à (‡πÇ‡∏ã‡∏ô‡∏ö‡∏ô‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£)`
                }
            };

            function setupNavigation() {
                navButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const targetId = button.getAttribute('data-target');
                        
                        navButtons.forEach(btn => btn.classList.remove('active'));
                        document.querySelectorAll(`.nav-button[data-target="${targetId}"]`).forEach(btn => btn.classList.add('active'));
                        
                        contentSections.forEach(section => {
                            if (section.id === targetId) {
                                section.classList.add('active');
                            } else {
                                section.classList.remove('active');
                            }
                        });
                        window.scrollTo(0, 0);
                    });
                });
            }

            function setupOpsToggles() {
                Object.keys(opsToggles).forEach(key => {
                    opsToggles[key].addEventListener('click', () => {
                        Object.values(opsContent).forEach(content => content.classList.add('hidden'));
                        Object.values(opsToggles).forEach(toggle => toggle.classList.remove('active'));
                        
                        opsContent[key].classList.remove('hidden');
                        opsToggles[key].classList.add('active');
                    });
                });
            }

            function setupReportToggles() {
                document.querySelectorAll('.toggle-report-button').forEach(button => {
                    button.addEventListener('click', () => {
                        const targetId = button.getAttribute('data-target');
                        const targetContent = document.getElementById(targetId);
                        const icon = button.querySelector('.icon');
                        if (targetContent) {
                            const isHidden = targetContent.classList.toggle('hidden');
                            if (isHidden) {
                                icon.innerHTML = '&#9660;'; // Down
                                icon.classList.remove('rotate-180');
                                button.querySelector('.text').textContent = '‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏°';
                            } else {
                                icon.innerHTML = '&#9650;'; // Up
                                icon.classList.add('rotate-180');
                                button.querySelector('.text').textContent = '‡∏ã‡πà‡∏≠‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏°';
                            }
                        }
                    });
                });
            }

            function openGeminiModal(optionKey) {
                currentOptionKey = optionKey;
                const option = OPTION_DATA[optionKey];
                geminiModalTitle.textContent = `‚ú® ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå: ${option.name}`;
                geminiModalOptionName.textContent = option.name;
                
                geminiLoading.classList.add('hidden');
                geminiResultArea.classList.add('hidden');
                geminiError.classList.add('hidden');
                geminiResultText.value = '';

                geminiModal.classList.add('active');
            }

            function closeGeminiModal() {
                geminiModal.classList.remove('active');
                currentOptionKey = null;
            }

            function setupGeminiModal() {
                geminiButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const optionKey = button.getAttribute('data-option-key');
                        openGeminiModal(optionKey);
                    });
                });

                closeModalButton.addEventListener('click', closeGeminiModal);
                closeModalButtonFooter.addEventListener('click', closeGeminiModal);

                generateEmailButton.addEventListener('click', () => handleGeminiAction('email'));
                generateChecklistButton.addEventListener('click', () => handleGeminiAction('checklist'));

                copyResultButton.addEventListener('click', () => {
                    geminiResultText.select();
                    try {
                        document.execCommand('copy');
                        copyResultButton.textContent = '‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß!';
                        setTimeout(() => {
                            copyResultButton.textContent = '‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å';
                        }, 2000);
                    } catch (err) {
                        copyResultButton.textContent = '‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à';
                    }
                });
            }

            function handleGeminiAction(actionType) {
                if (!currentOptionKey) return;
                const option = OPTION_DATA[currentOptionKey];
                let prompt = '';
                const systemPrompt = "‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ü‡∏≤‡∏£‡πå‡∏° (Farm Manager's Assistant) ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ (Engineering and Operations) ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡πà‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏•‡∏∞‡∏™‡∏£‡∏∏‡∏õ‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ (‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πá‡∏Å) ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û";

                if (currentOptionKey === 'tmr') {
                    if (actionType === 'email') {
                        prompt = `‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡πà‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡∏ñ‡∏∂‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡∏∏‡∏õ "‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ TMR ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤" ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ:
- ‡∏™‡∏£‡∏∏‡∏õ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£: ${option.summary}
- ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏•‡∏á‡∏ó‡∏∏‡∏ô (CAPEX): ${option.capex}
- ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ (OPEX): ${option.opex}
- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ${option.findings}
- ‡∏ö‡∏ó‡∏™‡∏£‡∏∏‡∏õ: ‡πÉ‡∏´‡πâ‡∏™‡∏£‡∏∏‡∏õ‡∏ß‡πà‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ "‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏£‡∏±‡∏ö‡πÑ‡∏´‡∏ß"`;
                    } else if (actionType === 'checklist') {
                        prompt = `‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á "Checklist ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô" 5-7 ‡∏Ç‡πâ‡∏≠ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á "‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ TMR ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤" ‡πÇ‡∏î‡∏¢‡πÄ‡∏ô‡πâ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡πÄ‡∏ä‡πà‡∏ô:
- ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏à‡πâ‡∏≤‡∏á (‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå, ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡∏ó‡∏î, VFD)
- ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô (‡πÅ‡∏ó‡πà‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á, ‡∏ê‡∏≤‡∏ô)
- ‡∏á‡∏≤‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü, ‡∏ï‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°)
- ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö (Test Run)`;
                    }
                } else if (currentOptionKey === 'ops') {
                    if (actionType === 'email') {
                        prompt = `‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡πà‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡∏ñ‡∏∂‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡∏∏‡∏õ "‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô (SM & SA)" ‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 5-6 ‡∏û.‡∏¢. ‡πÇ‡∏î‡∏¢‡πÄ‡∏ô‡πâ‡∏ô "‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏î‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°" ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ:
- ‡∏™‡∏£‡∏∏‡∏õ: ${option.summary}
- ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà SM: ${option.sm_issues}
- ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà SA Farm: ${option.sa_issues}
- ‡∏ö‡∏ó‡∏™‡∏£‡∏∏‡∏õ: ‡πÉ‡∏´‡πâ‡πÄ‡∏ô‡πâ‡∏ô‡∏¢‡πâ‡∏≥‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡πà‡∏ß‡∏ô 2 ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠ "Load Cell (SM) ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô" ‡πÅ‡∏•‡∏∞ "‡∏ã‡∏µ‡∏•‡∏ñ‡∏±‡∏á 3000L (SA) ‡∏£‡∏±‡πà‡∏ß"`;
                    } else if (actionType === 'checklist') {
                        prompt = `‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á "Checklist ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° (Follow-up List)" 5-7 ‡∏Ç‡πâ‡∏≠ ‡∏à‡∏≤‡∏Å "‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô (SM & SA)" ‡πÇ‡∏î‡∏¢‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡∏Ñ‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ:
- ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà SM: ${option.sm_issues}
- ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà SA Farm: ${option.sa_issues}
(‡πÉ‡∏´‡πâ‡πÄ‡∏ô‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á, ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏î‡πà‡∏ß‡∏ô, ‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö)`;
                    }
                }

                if (prompt) {
                    callGeminiAPI(prompt, systemPrompt);
                }
            }

            async function callGeminiAPI(userPrompt, systemPrompt, retries = 3) {
                geminiLoading.classList.remove('hidden');
                geminiResultArea.classList.add('hidden');
                geminiError.classList.add('hidden');
                
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

                const payload = {
                    contents: [{ parts: [{ text: userPrompt }] }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };

                for (let i = 0; i < retries; i++) {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }

                        const result = await response.json();
                        
                        if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts[0].text) {
                            const text = result.candidates[0].content.parts[0].text;
                            geminiResultText.value = text;
                            geminiResultArea.classList.remove('hidden');
                        } else {
                            throw new Error("Invalid API response structure");
                        }
                        
                        geminiLoading.classList.add('hidden');
                        return;

                    } catch (error) {
                        if (i === retries - 1) {
                            geminiLoading.classList.add('hidden');
                            geminiError.classList.remove('hidden');
                        } else {
                            await new Promise(res => setTimeout(res, (i + 1) * 1000));
                        }
                    }
                }
            }

            function initCharts() {
                const chartColors = {
                    motor: 'rgba(78, 115, 223, 0.8)',
                    gear: 'rgba(28, 200, 138, 0.8)',
                    vfd: 'rgba(246, 194, 62, 0.8)',
                    control: 'rgba(231, 74, 59, 0.8)',
                    wiring: 'rgba(108, 117, 125, 0.8)',
                    install: 'rgba(153, 102, 255, 0.8)',
                    energy: 'rgba(30, 64, 175, 0.8)', 
                    maint: 'rgba(201, 203, 207, 0.8)',
                    load: 'rgba(231, 74, 59, 0.8)',
                    limit: 'rgba(30, 64, 175, 0.8)', 
                };
                
                Chart.defaults.font.family = "'Kanit', sans-serif";
                Chart.defaults.font.size = 13;

                const tooltipTitle = (tooltipItems) => {
                    return tooltipItems[0].label;
                };
                const tooltipLabel = (context) => {
                    let label = context.dataset.label || '';
                    if (label) {
                        label += ': ';
                    }
                    let value = context.parsed.y || context.parsed.x || context.parsed;
                    let unit = ' ‡∏ö‡∏≤‡∏ó';
                    if (context.chart.canvas.id === 'loadChart') {
                        unit = ' ‡πÅ‡∏≠‡∏°‡∏õ‡πå';
                    }
                    label += new Intl.NumberFormat('th-TH').format(value) + unit;
                    return label;
                };

                const sharedTooltipConfig = {
                    backgroundColor: '#fff',
                    titleColor: '#333',
                    titleFont: { weight: 'bold', size: 14 },
                    bodyColor: '#555',
                    borderColor: '#ddd',
                    borderWidth: 1,
                    padding: 10,
                    displayColors: true,
                    callbacks: {
                        title: tooltipTitle,
                        label: tooltipLabel
                    }
                };
                
                const sharedOptions = {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15
                            }
                        },
                        tooltip: { ...sharedTooltipConfig }
                    }
                };

                if (document.getElementById('loadChart')) {
                    const ctx = document.getElementById('loadChart').getContext('2d');
                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: ['‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏ß‡∏°‡πÉ‡∏´‡∏°‡πà (Total Load)', '‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á (Safe Limit)'],
                            datasets: [{
                                label: '‡∏Å‡∏£‡∏∞‡πÅ‡∏™ (Amps)',
                                data: [110, 128],
                                backgroundColor: [chartColors.load, chartColors.limit],
                                borderColor: [chartColors.load, chartColors.limit],
                                borderWidth: 1,
                                maxBarThickness: 60,
                            }]
                        },
                        options: {
                            ...sharedOptions,
                            indexAxis: 'y',
                            plugins: {
                                ...sharedOptions.plugins,
                                legend: { display: false },
                            },
                            scales: {
                                x: {
                                    beginAtZero: true,
                                    max: 160,
                                    title: { display: true, text: '‡∏Å‡∏£‡∏∞‡πÅ‡∏™ (Amps)' }
                                },
                                y: {
                                    grid: { display: false }
                                }
                            }
                        }
                    });
                }

                if (document.getElementById('opexChart')) {
                    const ctx = document.getElementById('opexChart').getContext('2d');
                    new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['‡∏Ñ‡πà‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô (‡∏ï‡πà‡∏≠‡∏õ‡∏µ)', '‡∏Ñ‡πà‡∏≤‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ (‡∏ï‡πà‡∏≠‡∏õ‡∏µ)'],
                            datasets: [{
                                data: [129600, 3500],
                                backgroundColor: [chartColors.energy, chartColors.maint],
                                hoverOffset: 4
                            }]
                        },
                        options: {
                            ...sharedOptions,
                        }
                    });
                }

                if (document.getElementById('capexChart')) {
                    const ctx = document.getElementById('capexChart').getContext('2d');
                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: ['‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î (Min)', '‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (Max)'],
                            datasets: [
                                { label: '‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå', data: [40000, 70000], backgroundColor: chartColors.motor },
                                { label: '‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡∏ó‡∏î', data: [40000, 80000], backgroundColor: chartColors.gear },
                                { label: 'VFD (Inverter)', data: [35000, 60000], backgroundColor: chartColors.vfd },
                                { label: '‡∏ï‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°', data: [13500, 22000], backgroundColor: chartColors.control },
                                { label: '‡∏Ñ‡πà‡∏≤‡∏™‡∏≤‡∏¢‡πÑ‡∏ü/‡∏ó‡πà‡∏≠', data: [23000, 29000], backgroundColor: chartColors.wiring },
                                { label: '‡∏Ñ‡πà‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏•', data: [10000, 20000], backgroundColor: chartColors.install }
                            ]
                        },
                        options: {
                            ...sharedOptions,
                            scales: {
                                x: { 
                                    stacked: false,
                                    grid: { display: false }
                                },
                                y: { 
                                    stacked: true, 
                                    beginAtZero: true,
                                    title: { display: true, text: '‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô (‡∏ö‡∏≤‡∏ó)' },
                                    ticks: {
                                        callback: function(value) {
                                            return new Intl.NumberFormat('th-TH').format(value);
                                        }
                                    }
                                }
                            },
                            plugins: {
                                ...sharedOptions.plugins,
                                tooltip: {
                                    ...sharedTooltipConfig,
                                    callbacks: {
                                        title: (tooltipItems) => tooltipItems[0].dataset.label,
                                        label: (context) => {
                                            let label = context.label || '';
                                            if (label) { label += ': '; }
                                            label += new Intl.NumberFormat('th-TH').format(context.parsed.y) + ' ‡∏ö‡∏≤‡∏ó';
                                            return label;
                                        }
                                    }
                                }
                            }
                        }
                    });
                }
            }
            
            setupNavigation();
            setupOpsToggles();
            setupReportToggles();
            setupGeminiModal();
            initCharts();
        });
    </script>
</body>
</html>
